<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="generator" content="hevea 2.09">
<link rel="stylesheet" type="text/css" href="livro.css">
<title>Estruturas de Dados Básicas</title>
</head>
<body >
<a href="livro004.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="livro006.html"><img src="next_motif.gif" alt="Next"></a>
<hr>
<span style="font-family:sans-serif"><span style="font-weight:bold">Introdução a Algoritmos</span></span><h1 id="sec24" class="chapter">Chapter 3  Estruturas de Dados Básicas</h1>
<p>
<a id="estruturas-de-dados-basicas"></a></p><p>Uma estrutura de dados básica em computação, chamada de lista, é
definida recursivamente como a seguir. Uma lista de elementos de
determinado tipo <span style="font-style:italic">t</span> é ou i) vazia ou ii) um elemento de tipo <span style="font-style:italic">t</span> e um
resto, sendo o resto também uma lista de tipo <span style="font-style:italic">t</span>.</p><p>Em uma linguagem como Haskell, que provê suporte à definição de tipos
de dados recursivos, o tipo lista pode ser definido como:</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-family:monospace">data </span><span style="font-family:monospace"><span style="font-style:italic">List</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span><span style="font-family:monospace"> = </span><span style="font-family:monospace"><span style="font-style:italic">Nil</span></span><span style="font-family:monospace"> | </span><span style="font-family:monospace"><span style="font-style:italic">Cons</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">List</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span><span style="font-family:monospace">)</span> </td></tr>
</table><p>Além de recursivo, <span style="font-style:italic">List</span> <span style="font-style:italic">a</span> é um tipo polimórfico: a variável de
tipo <span style="font-style:italic">a</span> pode ser instanciada para um tipo qualquer, permitindo assim
a definição de listas com elementos de um tipo qualquer. </p><p>Além disso, a linguagem Haskell provê suporte à criação de valores de
tipo lista por meio do uso de uma notação especial para criação de
listas, simplesmente colocando os elementos entre colchetes, separados
por vírgulas &#X2014; por exemplo <span style="font-family:monospace">[1,2,3]</span> representa a lista <span style="font-family:monospace"><span style="font-style:italic">Cons</span></span><span style="font-family:monospace"> 1 (</span><span style="font-family:monospace"><span style="font-style:italic">Cons</span></span><span style="font-family:monospace"> 2 (</span><span style="font-family:monospace"><span style="font-style:italic">Cons</span></span><span style="font-family:monospace"> 3 </span><span style="font-family:monospace"><span style="font-style:italic">Nil</span></span><span style="font-family:monospace">))</span>.</p><p>De fato, <span style="font-family:monospace">[]</span> é usado em vez de <span style="font-style:italic">Nil</span>, e o construtor infixado <span style="font-family:monospace">(:)</span>, associativo à direita, em vez de <span style="font-style:italic">Cons</span>; por exemplo, <span style="font-family:monospace">1 :
2 : 3 : []</span> denota o mesmo valor representado, pela definição acima,
com os construtores <span style="font-style:italic">Nil</span> e <span style="font-style:italic">Cons</span>, por <span style="font-family:monospace"><span style="font-style:italic">Cons</span></span><span style="font-family:monospace"> 1 (</span><span style="font-family:monospace"><span style="font-style:italic">Cons</span></span><span style="font-family:monospace"> 2
(</span><span style="font-family:monospace"><span style="font-style:italic">Cons</span></span><span style="font-family:monospace"> 3 </span><span style="font-family:monospace"><span style="font-style:italic">Nil</span></span><span style="font-family:monospace">))</span>.</p><p>Em linguagens como <span style="font-family:monospace">C</span>, um tipo lista distinto tem que ser definido
para cada tipo distinto para os elementos, usando registros (chamados
em <span style="font-family:monospace">C</span> de "estruturas", definidos com a palavra-chave <span style="font-family:monospace">struct</span>) e
ponteiros. Por exemplo:</p><div class="center"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> 
</span><span style="font-family:monospace">struct</span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">ListaDeInteiros</span></span><span style="font-family:monospace"> { </span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">   int </span><span style="font-family:monospace"><span style="font-style:italic">elem</span></span><span style="font-family:monospace">; </span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">   </span><span style="font-family:monospace">struct</span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">ListaDeInteiros</span></span><span style="font-family:monospace"> * </span><span style="font-style:italic">r</span><span style="font-family:monospace">; </span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> }

</span></td></tr>
</table><span style="font-family:monospace"> </span></div><p><span style="font-family:monospace">
</span>
define um registro com dois campos, um campo de tipo <span style="font-family:monospace">int</span> e nome
<span style="font-style:italic">elem</span>, e um campo de nome <span style="font-style:italic">r</span> que é um ponteiro para valores do
próprio tipo <span style="font-style:italic">ListaDeInteiros</span>.</p><p>A manipulação de valores de tipo lista em <span style="font-family:monospace">C</span> é mais trabalhosa, pouco
elegante e legível e sujeita a erros. Por exemplo, simplesmente para
criar um valor de tipo lista igual a <span style="font-family:monospace">[1,2,3]</span> em Haskell, é
necessário código como o seguinte:</p><div class="center"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace">struct</span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">ListaDeInteiros</span></span><span style="font-family:monospace"> *</span><span style="font-style:italic">p</span><span style="font-family:monospace"> = </span><span style="font-family:monospace"><span style="font-style:italic">malloc</span></span><span style="font-family:monospace">(</span><span style="font-family:monospace"><span style="font-style:italic">sizeof</span></span><span style="font-family:monospace">(</span><span style="font-family:monospace">struct</span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">ListaDeInteiros</span></span><span style="font-family:monospace">));</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-style:italic">p</span><span style="font-family:monospace">-&gt;</span><span style="font-family:monospace"><span style="font-style:italic">elem</span></span><span style="font-family:monospace"> = 1;
</span><span style="font-style:italic">p</span><span style="font-family:monospace">-&gt;</span><span style="font-style:italic">r</span><span style="font-family:monospace"> = </span><span style="font-family:monospace"><span style="font-style:italic">malloc</span></span><span style="font-family:monospace">(</span><span style="font-family:monospace"><span style="font-style:italic">sizeof</span></span><span style="font-family:monospace">(</span><span style="font-family:monospace">struct</span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">ListaDeInteiros</span></span><span style="font-family:monospace">));</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-style:italic">p</span><span style="font-family:monospace">-&gt;</span><span style="font-style:italic">r</span><span style="font-family:monospace">-&gt;</span><span style="font-family:monospace"><span style="font-style:italic">elem</span></span><span style="font-family:monospace"> = 2;
</span><span style="font-style:italic">p</span><span style="font-family:monospace">-&gt;</span><span style="font-style:italic">r</span><span style="font-family:monospace">-&gt;</span><span style="font-style:italic">r</span><span style="font-family:monospace"> = </span><span style="font-family:monospace"><span style="font-style:italic">malloc</span></span><span style="font-family:monospace">(</span><span style="font-family:monospace"><span style="font-style:italic">sizeof</span></span><span style="font-family:monospace">(</span><span style="font-family:monospace">struct</span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">ListaDeInteiros</span></span><span style="font-family:monospace">));</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-style:italic">p</span><span style="font-family:monospace">-&gt;</span><span style="font-style:italic">r</span><span style="font-family:monospace">-&gt;</span><span style="font-style:italic">r</span><span style="font-family:monospace">-&gt;</span><span style="font-family:monospace"><span style="font-style:italic">elem</span></span><span style="font-family:monospace"> = 3;
</span><span style="font-style:italic">p</span><span style="font-family:monospace">-&gt;</span><span style="font-style:italic">r</span><span style="font-family:monospace">-&gt;</span><span style="font-style:italic">r</span><span style="font-family:monospace">-&gt;</span><span style="font-style:italic">r</span><span style="font-family:monospace"> = </span><span style="font-family:monospace"><span style="font-style:italic">NULL</span></span><span style="font-family:monospace">;

</span></td></tr>
</table><span style="font-family:monospace"> </span></div><p>A falta de suporte a manipulação de valores de tipos recursivos e
polimórficos torna a programação mais difícil e demorada e o código
menos legível e mais sujeito a repetições e a ocorrências de erros.</p><p>Em Haskell, o acesso a um valor <span style="font-style:italic">v</span> de uma lista <span style="font-style:italic">x</span> requer acesso a
todos os elementos anteriores a <span style="font-style:italic">v</span> em <span style="font-style:italic">x</span>. De fato, a representação
de listas é feita por meio de ponteiros, mas a manipulação de
ponteiros é gerada automaticamente, de acordo com o código Haskell
usado, em vez de ser feita diretamente pelo programador.</p><p>O uso de arranjos é uma maneira alternativa de representar listas em
uma linguagem (como <span style="font-family:monospace">C</span>) que não provê suporte a manipulação de valores
de estruturas de dados recursivas como listas. Nesse caso, o uso de
arranjos requer que se especifique a priori um número máximo de
elementos.</p>
<h2 id="sec25" class="section">3.1  Pilha</h2>
<p>
<a id="pilha"></a></p><p>Uma estrutura de dados <em>Pilha</em> se caracteriza pelo fato de a
inserção, acesso e remoção de elementos da estrutura de dados serem
feito apenas em apenas um de seus lados (ou extremidades). Ou seja, o
último a ser inserido é o primeiro a ser removido da pilha.</p><p>Uma pilha, com operações de i) criar pilha vazia, ii) empilhar
elemento, iii) desempilhar elemento, iv) obter elemento do topo da
pilha, e v) testar se pilha está vazia, pode ser implementada como a seguir.</p>
<h3 id="sec26" class="subsection">3.1.1  Versão funcional</h3>
<p>Em Haskell uma lista provê diretamente as operações de uma pilha:</p><div class="center"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">vazia</span></span><span style="font-family:monospace"> = []</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">empilhar</span></span><span style="font-family:monospace"> = (:)</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">desempilhar</span></span><span style="font-family:monospace"> (_:</span><span style="font-style:italic">x</span><span style="font-family:monospace">) = </span><span style="font-style:italic">x</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace"> (</span><span style="font-style:italic">a</span><span style="font-family:monospace">:_) = </span><span style="font-style:italic">a</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">estaVazia</span></span><span style="font-family:monospace"> = </span><span style="font-family:monospace"><span style="font-style:italic">null</span></span><span style="font-family:monospace">
</span></td></tr>
</table><span style="font-family:monospace"> </span></div><p>Em geral, devemos procurar simplificar o código de nossos programas, e
podemos não tratar casos de erro por motivos didáticos, mas em
programas completos não podemos esquecer de tratar todos os casos
possíveis para os dados de entrada. Um módulo em Haskell que trata
todos esses casos possíveis para os dados de entrada das operações
acima envolvendo uma pilha, é mostrado na Figura <a href="#fig-Pilha">3.1.1</a>.</p><p>O módulo <span style="font-style:italic">Pilha</span> implementa o que é chamado em computação de um <em>tipo abstrato de dados</em>, que é um tipo com operações de criação,
modificação e consulta sobre valores desse tipo. Por exemplo,
<span style="font-style:italic">vazia</span> é uma (de fato, nesse caso a única) operação de criação,
<span style="font-style:italic">empilhar</span> e <span style="font-style:italic">desempilhar</span> são operações de modificação, e <span style="font-style:italic">topo</span> e
<span style="font-style:italic">estaVazia</span> são operações de consulta. </p><p>O que caracteriza uma definição de um tipo abstrato de dados é o fato
de as operações (para criação, modificação e consulta) sobre valores
do tipo serem definidas e estarem em um trecho de programa (em geral,
no módulo) onde o tipo foi definido, mas a representação não é
conhecida para quem usa valores do tipo. Ou seja, um tipo abstrato
pode ser considerado como um tipo em conjunto com todas as operações
possíveis sobre valores desse tipo. Qualquer operação sobre um valor
do tipo só pode ser realizada por meio dessas operações.</p><p>Em Haskell, para definir um tipo abstrato pilha usamos um novo tipo,
com um único construtor, que não é exportado pelo módulo em que o tipo
é definido (o construtor de valores <span style="font-style:italic">Pilha</span> não é exportado, apenas o
construtor de tipos <span style="font-style:italic">Pilha</span>). Também definimos, por questão de
legibilidade, os tipos de todas as funções definidas. Veja Figura
<a href="#fig-Pilha">3.1.1</a>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div><div class="center"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> 
module </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">vazia</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">empilhar</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">desempilhar</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">estaVazia</span></span><span style="font-family:monospace">) where</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">&nbsp;</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">
newtype </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span><span style="font-family:monospace"> = </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> [</span><span style="font-style:italic">a</span><span style="font-family:monospace">]</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">&nbsp;</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">
</span><span style="font-family:monospace"><span style="font-style:italic">vazia</span></span><span style="font-family:monospace">:: </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"><span style="font-style:italic">vazia</span></span><span style="font-family:monospace"> = </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace">[]</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">&nbsp;</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">
</span><span style="font-family:monospace"><span style="font-style:italic">empilhar</span></span><span style="font-family:monospace">:: </span><span style="font-style:italic">a</span><span style="font-family:monospace"> -&gt; </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span><span style="font-family:monospace"> -&gt; </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"><span style="font-style:italic">empilhar</span></span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">elem</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">p</span><span style="font-family:monospace">) = </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> (</span><span style="font-style:italic">e</span><span style="font-family:monospace">:</span><span style="font-style:italic">p</span><span style="font-family:monospace">)</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">&nbsp;</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">
</span><span style="font-family:monospace"><span style="font-style:italic">desempilhar</span></span><span style="font-family:monospace">:: </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span><span style="font-family:monospace"> -&gt; </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"><span style="font-style:italic">desempilhar</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> []) = error "desempilhar chamado com pilha vazia"</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"><span style="font-style:italic">desempilhar</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> (_:</span><span style="font-style:italic">p</span><span style="font-family:monospace">)) = </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">p</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">&nbsp;</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">
</span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace">:: </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span><span style="font-family:monospace"> -&gt; </span><span style="font-style:italic">a</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> []) = error "topo chamado com pilha vazia"</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">elem</span></span><span style="font-family:monospace">:_)) = </span><span style="font-family:monospace"><span style="font-style:italic">elem</span></span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">&nbsp;</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">
</span><span style="font-family:monospace"><span style="font-style:italic">estaVazia</span></span><span style="font-family:monospace">:: </span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">a</span><span style="font-family:monospace"> -&gt; </span><span style="font-family:monospace"><span style="font-style:italic">Bool</span></span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"><span style="font-style:italic">estaVazia</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">Pilha</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">p</span><span style="font-family:monospace">) = </span><span style="font-family:monospace"><span style="font-style:italic">null</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">p</span><span style="font-family:monospace">

</span></td></tr>
</table><span style="font-family:monospace"> </span></div><p><a id="fig-Pilha"></a>
</p><div class="center"><hr style="width:80%;height:2"></div></blockquote>
<h3 id="sec27" class="subsection">3.1.2  Versão imperativa</h3>
<p>Considerando <span style="font-style:italic">pilha</span> como um registro com campos <span style="font-style:italic">topo</span> e <span style="font-style:italic">elems</span>,
sendo <span style="font-style:italic">elems</span> um arranjo de <span style="font-style:italic">n</span> elementos &#X2014; indexado de 0 a <span style="font-style:italic">n</span><span style="font-family:monospace">-1</span> &#X2014; e <span style="font-style:italic">topo</span> uma variável inteira que indica o índice do
último elemento inserido, as operações em uma pilha podem ser
implementadas como a seguir (desconsiderando casos de erro:
desempilhar de uma pilha vazia e empilhar em uma pilha cheia):</p><div class="center"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> 
</span><span style="font-family:monospace"><span style="font-style:italic">vazia</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">pilha</span></span><span style="font-family:monospace">) = { </span><span style="font-family:monospace"><span style="font-style:italic">pilha</span></span><span style="font-family:monospace">.</span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace"> = -1; }</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">empilhar</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">elem</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">pilha</span></span><span style="font-family:monospace">) { </span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">   </span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace"> </span>&#X2190;<span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace"> + 1;</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">   </span><span style="font-family:monospace"><span style="font-style:italic">pilha</span></span><span style="font-family:monospace">.</span><span style="font-family:monospace"><span style="font-style:italic">elems</span></span><span style="font-family:monospace">(</span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace">) </span>&#X2190;<span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">elem</span></span><span style="font-family:monospace">;</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> } </span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">desempilhar</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">pilha</span></span><span style="font-family:monospace">) { </span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">   </span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace"> </span>&#X2190;<span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace"> - 1;</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> }</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">pilha</span></span><span style="font-family:monospace">) { </span><span style="font-family:monospace">return</span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">pilha</span></span><span style="font-family:monospace">.</span><span style="font-family:monospace"><span style="font-style:italic">elems</span></span><span style="font-family:monospace">[</span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace">]; }</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">estaVazia</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">pilha</span></span><span style="font-family:monospace">) { </span><span style="font-family:monospace">return</span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">pilha</span></span><span style="font-family:monospace">.</span><span style="font-family:monospace"><span style="font-style:italic">topo</span></span><span style="font-family:monospace"> == -1; }

</span></td></tr>
</table><span style="font-family:monospace"> </span></div>
<h2 id="sec28" class="section">3.2  Fila</h2>
<p>
<a id="fila"></a></p><p>Em uma <em>fila</em> a inserção é feita de um lado e a remoção é feita do
outro lado da estrutura de dados. Ou seja, o primeito a ser inserido é
o primeiro a ser removido da pilha.</p><p>Uma fila, com operações de i) criar fila vazia, ii) entrar (inserir
elemento) na fila, iii) sair (tirar elemento) da fila, iv) obter
elemento do início da fila, e v) testar se fila está vazia, pode ser
implementada como a seguir.</p>
<h3 id="sec29" class="subsection">3.2.1  Versão funcional</h3>
<p>Não é eficiente fazer acesso ao último elemento de uma lista em
Haskell. A implementação padrão de filas por meio de listas usa assim
duas listas, <span style="font-style:italic">frente</span> e <span style="font-style:italic">tras</span>. Elementos entram na lista <span style="font-style:italic">tras</span> e saem
na lista <span style="font-style:italic">frente</span>.</p><p>A função <span style="font-style:italic">fila</span> é usada para garantir o invariante de que se
<span style="font-style:italic">frente</span> está vazia, então <span style="font-style:italic">tras</span> está vazia (e portanto a fila está
vazia).</p><div class="center"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">filaVazia</span></span><span style="font-family:monospace"> = ([],[])</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">entrar</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">e</span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">frente</span></span><span style="font-family:monospace">,</span><span style="font-family:monospace"><span style="font-style:italic">tras</span></span><span style="font-family:monospace">) = </span><span style="font-family:monospace"><span style="font-style:italic">fila</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">frente</span></span><span style="font-family:monospace">, e : </span><span style="font-family:monospace"><span style="font-style:italic">tras</span></span><span style="font-family:monospace">)</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">fila</span></span><span style="font-family:monospace"> ([], </span><span style="font-family:monospace"><span style="font-style:italic">tras</span></span><span style="font-family:monospace">) = (</span><span style="font-family:monospace"><span style="font-style:italic">reverse</span></span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">tras</span></span><span style="font-family:monospace">, [])</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">fila</span></span><span style="font-family:monospace"> </span><span style="font-style:italic">f</span><span style="font-family:monospace"> = </span><span style="font-style:italic">f</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">sair</span></span><span style="font-family:monospace"> (</span><span style="font-style:italic">e</span><span style="font-family:monospace">:</span><span style="font-family:monospace"><span style="font-style:italic">frente</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">tras</span></span><span style="font-family:monospace">) = (</span><span style="font-family:monospace"><span style="font-style:italic">frente</span></span><span style="font-family:monospace">,</span><span style="font-family:monospace"><span style="font-style:italic">tras</span></span><span style="font-family:monospace">)</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">estaVazia</span></span><span style="font-family:monospace"> (</span><span style="font-family:monospace"><span style="font-style:italic">frente</span></span><span style="font-family:monospace">,_) = </span><span style="font-family:monospace"><span style="font-style:italic">null</span></span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">frente</span></span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:italic">inicio</span></span><span style="font-family:monospace"> (</span><span style="font-style:italic">e</span><span style="font-family:monospace">:</span><span style="font-family:monospace"><span style="font-style:italic">frente</span></span><span style="font-family:monospace">,_) = </span><span style="font-style:italic">e</span><span style="font-family:monospace">

</span></td></tr>
</table><span style="font-family:monospace"> </span></div>
<h3 id="sec30" class="subsection">3.2.2  Versão imperativa</h3>
<hr>
<a href="livro004.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="livro006.html"><img src="next_motif.gif" alt="Next"></a>
</body>
</html>
