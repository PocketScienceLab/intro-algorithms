\documentclass[a4paper,10pt]{book}

\usepackage[T1]{fontenc}             % font encoding
%\usepackage[brazil]{babel}           % language
\usepackage[portuguese]{babel}
\usepackage[latin1]{inputenc}      % acentos

\usepackage{amsmath,amssymb,amsthm}  % mathematics
\usepackage{graphicx}                               % graphics
\usepackage[usenames,dvipsnames]{xcolor}
% \usepackage{color}                                     % cores
\usepackage{indentfirst}  % indentation at paragraph beggining
\usepackage{hyperref}     % for links in pdf and webpage
\usepackage{makeidx}
%\usepackage{subfigure}
%\usepackage{comment}

%-- colors --------------------------------------
%\definecolor{bluencs}{rgb}{0.0, 0.53, 0.74}
%\definecolor{paleblue}{rgb}{0.74, 0.83, 0.9}
%\definecolor{magnolia}{rgb}{0.97, 0.96, 1.0}
%\definecolor{darkgreen}{rgb}{0.0,0.5,0.0}
%\definecolor{brown}{rgb}{0.65,0.16,0.16}
%\definecolor{ngray}{rgb}{0.86, 0.86, 0.86}

%-- hevea and page styling -------------------------
\usepackage{hevea}
\usepackage{hevea-epsfbox-def}  
\usepackage{fancybox}
\usepackage{fancyheadings}
\usepackage{fancysection}            % hevea styling for sections
\colorsections{185}

%--- page style ----------------------------------
\setlength{\headheight}{15.2pt}
\pagestyle{fancyplain}
\addtolength\headwidth{\marginparsep}
\renewcommand{\chaptermark}[1]
             {\markboth{#1}{}}
\renewcommand{\sectionmark}[1]
             {\markright{\thesection\ #1}}
\lhead[\fancyplain{}{\sfseries\thepage}]
     {\fancyplain{}{\sfseries\rightmark}}
\rhead[\fancyplain{}{\sfseries\leftmark}]
      {\fancyplain{}{\sfseries\thepage}}
\cfoot{}

%----- text format parameters -----
\setlength\textwidth{150mm}
\setlength\textheight{241mm}
\setlength\oddsidemargin{5.4mm}
\setlength\evensidemargin{5.4mm}
\setlength\marginparsep{5mm}
\setlength\marginparwidth{15mm}
\addtolength\voffset{-5mm}
\addtolength\topmargin{-3mm}
\addtolength\headsep{2mm}
\setlength\footskip{10mm}


%- typesetting code -------------------------------
\usepackage{listings}                                 

% estilo default de typesetting de código
\newstyle{.myclisting}{font-family:monospace;white-space:pre;margin:lex;padding:2ex;}

% estilo para Haskell
%OBS: a versao original de Haskell considera como 
% keywords todas as definições do prelude.base
\lstdefinestyle{mystyle}{basicstyle={\tt},
backgroundcolor={\color{Cyan}},
keywordstyle={\bf \color{black}},
identifierstyle={\color{blue}},
commentstyle={\rm \it \color{DarkOrchid}},
emphstyle={{\bf \color{Mahogany}}},
xleftmargin=0pt,xrightmargin=0pt,
columns={fixed},
keepspaces={true},
showstringspaces=false,
stepnumber=1,
numbersep=5pt,
numberstyle={\tt \footnotesize \color{white}},
captionpos=b,
escapechar=§
}

% seta estilo global de lstlistings para uso por lstinline
\setenvclass{lstlisting}{myclisting}
\lstset{style=mystyle}

\definecolor{LightGray}{gray}{0.90}
% \definecolor{LightBlue}{rgb}{\color{blue!20}}
% \definecolor{LightGreen}{rgb}{\color{green!20}}

% listings e lstinline para Haskell 
%\lst@definelanguage{myHaskell}{language=Haskell}%
%deletekeywords={List,Cons,Nil,Pair,Tree,Leaf,Node,%
%all,and,any,delete,elem,foldr,insert,map,or,sort}}
%{}

\newcommand{\divisao}{Cyan}
\newcommand{\decremento}{YellowGreen}
\newcommand{\simplificacao}{Orange}
\newcommand{\mudancaRep}{GreenYellow}
\newcommand{\preProcess}{Tan}
\newcommand{\definicao}{LightGray}

\lstnewenvironment{hask}[2]{
\lstset{language=Haskell,emph={#1},
backgroundcolor={\color{#2}}}}
{}

\newcommand{\inh}{\lstinline[language=Haskell]}

% listings e lstinline para C 
\lst@definelanguage{myAlg}{language={C++},%
morekeywords={with,to}}

\lstnewenvironment{alg}[2]{
\lstset{language={myAlg},emph={#1},
backgroundcolor={\color{#2}}}}
{}

% environment para algoritmo com linhas numeradas
\lstnewenvironment{algno}[1]{
\setenvclass{lstlisting}{myclisting}
\lstset{language={myAlg},numbers=left,emph={#1}}}
{}


\newcommand{\ina}{\lstinline[language=myAlg]}
%-----------------------------------------------

\setcounter{tocdepth}{3}

%-- title------------------------------------------
\title{Introdução a Algoritmos}\\
%{\small release ##= version ##}}
\author{Carlos Camarão\\
{\small Universidade Federal de Minas Gerais}\\
{\small Doutor em Ci\^encia da Computa\c{c}\~ao pela Universidade de Manchester, Inglaterra}\\
{\small $\copyright$ 2015} }
%\date{Febuary 25, 2015}
\pagestyle{headings}

\htmlhead{{\sc\bf \small Introdução a Algoritmos}:}

\makeindex

\begin{document}

\maketitle

É permitida a duplicação ou reprodução, no todo ou em parte, sob
quaisquer formas ou por quaisquer meios (eletrônico, mecânico,
gravação, fotocópia, distribuição na Web ou outros), desde que seja
para fins não comerciais.

\tableofcontents

\setcounter{secnumdepth}{-2}
\input{prefacio}
\input{meta.keys}

\setcounter{secnumdepth}{10}
\pagenumbering{arabic}

\input{introd}
\input{complexidade}
\input{analise-eficiencia-de-algoritmos}
\input{estruturas-de-dados-basicas}
\input{arvores}
\input{tecnicas-de-projeto-de-algoritmos}
\input{algoritmos-de-pesquisa}
\input{algoritmos-de-ordenacao}
\input{hash}

%\pagebreak
%\thispagestyle{empty}
%\pagebreak
%\pagestyle{fancyplain}

\appendix
\input{Haskell}
\input{Somatorios}
\input{relacoes-de-recorrencia}

\bibliographystyle{plain}
\bibliography{livro}

\printindex

\end{document}
